@import "~styles/colors.styl"
@import "~styles/type.styl"
@import "~styles/link.styl"
@import "~styles/zIndex.styl"
@import "~styles/breakpoints"

.pointDetails
  pointer-events none
  height 100%

.pointDetails-content
  pointer-events auto
  max-width 42rem
  top 0
  left 0
  right 0
  position relative
  min-height 100%
  display flex
  flex-direction column
  background $color-darkGrayBackground
  box-shadow 0 0 3rem 2rem rgba(0,0,0,0.2)
  border-top 0.35rem solid $color-bekkRed
  color $color-lightGray

  pre
    white-space: normal
    font-size: 0.9em
    margin-top -1.9em

  @media screen and (min-width: $breakpoint-min-medium)
    margin 4rem auto
    width 80%
    min-height auto

.pointDetails-contextBar
  display flex
  text-transform uppercase
  color $color-white
  font-size $fontSize-smallest
  position absolute
  top 1.5rem
  left 0
  padding 0 1rem
  @media screen and (min-width: $breakpoint-min-medium)
    padding 0 2rem

.pointDetails-contextBar-category
  &:after
    content "â€“"
    display inline-block
    margin 0 0.4em

.pointDetails-image
  min-height 2rem //if there's no image, don't mess up the layout

.pointDetails-image-wrapper
  width 100%
  position relative
  padding-top 33.3333%
  overflow hidden

.pointDetails-image-wrapper-img
  position absolute
  top 0
  left 0
  width 100%
  background-position 50% 50%
  background-repeat no-repeat
  background-attachment local
  background-size cover
  height 100%


.pointDetails-image-wrapper-gradient
  background linear-gradient(to bottom, rgba(0,0,0,0.85), rgba(0,0,0,0.54) 2.5rem, transparent 9.5rem)
  position absolute
  top 0
  width 100%
  height 100%

.pointDetails-closeButton,
.pointDetails-getHistoryButton,
.pointDetails-titleBar-favorite,
.pointDetails-pointHistory-closeButton
  font-weight bold
  font-size $fontSize-largest
  position absolute
  top 0.4rem
  transform translate3d(0,0,0)
  background transparent
  border 0
  width 1.75em
  height 1.75em
  line-height 0 //needed to make white space not affect icon position
  right 0.2rem
  @media screen and (min-width: $breakpoint-min-medium)
    right 0.8rem
  & > .icon
    position relative // don't let IE mess with position: http://stackoverflow.com/questions/6744406/internet-explorer-buttonactive-inner-padding
  &:active
    & > .icon
      fill $color-bekkRed
  &:focus
    &>.icon
      fill $color-bekkRed
    &:hover, [data-whatinput="mouse"] &, [data-whatinput="touch"] &
      outline 0

.pointDetails-titleBar
  display flex
  margin 2.5rem 1rem 0.4rem 1rem
  @media screen and (min-width: $breakpoint-min-medium)
    margin-left 3rem
    margin-right 3rem

.pointDetails-titleBar-title
  font-size $fontSize-largest
  margin 0
  flex-grow 1
  flex-basis 0 //needed for shrinkfit to work (chrome/android only)
  overflow-x hidden //for shrinkfit
  hyphens auto
  font-weight normal

 .pointDetails-titleBar-title-text
  font-family Fedra Serif, serif


.pointDetails-titleBar-title:focus
  outline none
  border none

.pointDetails-titleBar-favorite
  top 2.9rem

.pointDetails-getHistoryButton
  top 5.4rem

.pointDetails-pointHistory
  line-height $lineHeight-base
  padding 1rem 2rem
  position relative
  background-color $color-darkGray--pointList
  @media screen and (min-width: $breakpoint-min-medium)
    margin-left 3rem
    margin-right 3rem

.pointDetails-pointHistory-closeButton
  top 0.4rem

.pointDetails-pointHistory-listHolder
  margin 0
  padding 0

.pointDetails-pointHistory-listItem
  margin 0
  padding 0
  list-style none

.pointDetails-tags
  padding-left 0
  margin-top 0
  font-size $fontSize-small
  margin-left 1.1rem
  @media screen and (min-width: $breakpoint-min-medium)
    margin-left 3rem

.pointDetails-tags-tag
  display inline-block
  margin 0
  color $color-darkGray
  &:not(:last-child):after
    content ',\00a0'

.pointDetails-body
  line-height $lineHeight-base
  margin 0.6rem 1rem 2.5rem 1rem
  @media screen and (min-width: $breakpoint-min-medium)
    margin-left 3rem
    margin-right 3rem

.pointDetails-comments
  line-height $lineHeight-base
  margin 0.6rem 1rem 2.5rem 1rem
  @media screen and (min-width: $breakpoint-min-medium)
    margin-left 3rem
    margin-right 3rem

.pointDetails-body-p
  font-family sans-serif
  font-size $fontSize-small
  line-height $lineHeight-looser
  margin-bottom 2rem
  margin-top 0

  &:first-child
    clear both

.pointDetails-body-a
  @extend .link
  font-family Fedra Serif, serif

.pointDetails-body-h2
  text-transform uppercase
  font-size $fontSize-small
  color $color-darkGray
  font-weight normal

.pointDetails-body-ol,
.pointDetails-body-ul
  padding-left 2rem
  margin-top -1.9em
  font-family Fedra Serif,serif

.pointDetails-body-li
  padding-left 0
  font-size $fontSize-small
  font-family sans-serif
  margin-bottom 0.4rem
  line-height 1.5rem

.pointDetails-navigation
  display none
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  @media screen and (min-width: $breakpoint-min-medium)
    display flex
    padding-right 0.5rem //approximately the width of a scrollbar

.pointDetails-navigation-spacer //for this to look good have to have the same width as pointdetails-content
  max-width 42rem
  width 42rem
  @media screen and (min-width: $breakpoint-min-medium)
    margin 4rem auto
    width 80%

.pointDetails-navigation-left,
.pointDetails-navigation-right
  flex-grow 1
  display flex
  align-items center
  justify-content space-around

.pointDetails-navigation-button
  pointer-events auto
  border 0
  border-radius 50%
  width 8vw
  height 8vw
  background $color-darkGrayBackground
  transform 0
  transition transform 0.3s ease-out
  line-height 0
  &:hover
    transform scale(1.05)
  &:focus
    & > .icon
      fill $color-bekkRed
    &:hover, [data-whatinput="mouse"] &, [data-whatinput="touch"] &
      outline 0
      & > .icon
        fill $color-white


.active .publisher-nav-color::after
  background-color $color-bekkRed !important

.pointDetails-tags-tag .filterButton-icon
  display none

.pointDetails-tags-tag .filterButton
  padding 0
  font-size $fontSize-small
